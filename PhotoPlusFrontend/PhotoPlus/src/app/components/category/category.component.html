<div class="flex-container fadeInDown row no-gutters">
  <div class="card shadow-border" id="category-card" *ngIf="categories">
    <div class="list-group d-flex flex-row flex-wrap" id="category-list-group">
      <div (click)="loadProductsFromCategory(category.value.code)" id="category-list-group-item" class="w-50 list-group-item-action card p-2 px-3 fadeIn first" *ngFor="let category of categories">
        {{ (category | async)?.name }}
      </div>
    </div>
  </div>
</div>

<div class="flex-container" *ngIf="products">
  <div class="carousel-card card shadow-border fadeInDown" *ngFor="let product of products">
    <div class="card-body fadeIn first">
      <ngb-carousel class="home-carousel" wrap="true" [interval]="false" *ngIf="(product | async)?.imagesUrl.length > 1; else noCarousel" #carousel>
        <ng-template ngbSlide *ngFor="let image of (product | async)?.imagesUrl">
          <div class="picsum-img-wrapper">
            <img class="carouselImage" src="{{image}}">
          </div>
        </ng-template>
      </ngb-carousel>
      <ng-template #noCarousel >
        <div class="noCarouselImgContainer">
          <img class="noCarouselImage" src="{{(product | async)?.imagesUrl[0]}}">
        </div>
      </ng-template>

      <p routerLink="/product/{{product.value.code}}"  class="card-title fadeIn second" id="home-card-title"> {{ (product | async)?.name }} </p>
      <p class="card-subtitle mb-2 text-muted fadeIn third"> {{ (product | async)?.category?.name }} </p>
      <p class="price fadeIn third">$<span>{{ (product | async)?.price }}</span></p>
      <div class ="card-linkBox fadeIn fourth">
        <button (click)="addToCart(product.value)" class="btn btn-success" href="#" id="cart-link">Add to cart</button>
        <button class="btn btn-success" href="#" id="buy-link">Buy now</button>
      </div>
    </div>
  </div>
</div>

<div [hidden] = "isProductListEmpty">
  <app-page-select (onPageSelect)="changePage($event)" [amountOfPages]="amountOfPages"></app-page-select>
</div>

